## lunachat_like
lunachatというローマ字を日本語に変換するプラグインを元にmodにしました  
1.8.9で日本語を簡単に打てないという問題を改善することを目的にしています  
### 機能紹介
1. チャットで送信するローマ字のメッセージの後に変換したものが付く  
チャットで送るメッセージに変換されたものが付く 
例:soutenn puri @1 naguri@1 → soutenn puri@1 naguri@1 (蒼天 プリ@1 殴り@1)  
日本語が含まれていたら変換されないです
2. チャットで送られたローマ字のメッセージの後に変換したものが付く 
他の人のローマ字のチャットに変換されたものが付きます  
例:soutenn kitenaihito imasuka → soutenn kitenaihito imasuka (蒼天 来てない人 いますか)  
 日本語が含まれていたら変換されないです
3. 変換辞書登録ができる  
基本的な単語は登録しておいたので困らないと思いますが、登録されていないものはすべて平仮名になります
configフォルダーのlunachat_dict.txtに追記することで単語登録できます  
追試した後は/jp reloadで読み込めます
4. 発言先を変更できる  
/ch p等でチャンネルを変更できます  
送信するチャットの文頭にコマンドが自動で付与されます
例:kokoriikou → /p kokoriikou (ココリいこう)  
5. 自動更新確認  
アップデートがあるかを確認しまうす(デフォルト:有効)  
mcidを送信すると統計に役立ちます(デフォルト:無効)
6. 隠し機能(tabキーで候補が出ません)  
<span style="color: red; ">不具合出るかもしれないため利用は自己責任です</span>  
/jp debug - logファイルに取得したチャットを表示  
/jp stack - 同一チャットをスタックする

### 追加されるコマンド
jp関連:変換関連コマンド  
/jp on - ローマ字変換を有効にする(～1.1)  
/jp off - ローマ字変換を無効にする(～1.1)  
/jp togglereceive - 受信チャット（橙色）のローマ字変換を切り替える(1.2～)  
/jp togglesend - 送信チャット（自分）のローマ字変換を切り替える(1.2～)  
デフォルトはどちらも有効です  
/jp reload - 変換辞書を読み込む  
ゲーム起動中に追記したときに使います  
/jp help - ヘルプを表示  
  
ch関連:チャンネル変換機能(β)  
/ch autosend - チャット送信時に自動でチャンネルが切り替わる機能のon/offを切り替えます  
/ch autores - チャット受信時に自動でチャンネルが切り替わる機能のon/offを切り替えます  
/ch hud < x> < y> - チャンネル表示座標を設定します  
/ch info - 発言先を確認できます  
/ch < all/clan/party/group> - 発言先を<全体/クラン/パーティー/グループ>チャットにします  
/ch tell < mcid> - 発言先をmcidとの個人チャットにします  

### システム説明  
#### 送信機能
これは実際に送るチャットを書き換えています。  
つまり上キーを押したときのチャットの履歴も変わってしまいます。  
しかし、他mod(ThelowChatToggle等)に渡される前に書き換えられるので同時に動作することができます
#### 受信機能
これは他の人が送ったチャットを取得してそれを変換したものを後ろに表示しています  
英語のシステムメッセージが変換されないように努力していますが、変換されてしまった場合は不具合なので報告してほしいです(修正します)
#### 変換システムについて
まずローマ字を平仮名に変換しています。この辞書は自作なので抜けがあると思います  
うまく変換されなかったら不具合なので報告してほしいです(修正します)  
次に平仮名を漢字交じりに変換しています。この辞書はある程度の単語は用意しましたが、追加したい場合はconfigフォルダーのlunachat_dict.txtに追記することで登録できます  

これらの変換システムは送信と受信で共通のものを使っています

#### 1.2での追加機能
設定を受信チャットと送信チャットで別々に管理、configに保存することで再度起動したときにも設定が維持される  
configをmod一覧からも変更可能に

#### 1.5での追加機能(β)
送信するチャンネルを変更できます  
例えば/ch clanと入力すると通常のチャットがクランメッセージになります  
例:koregatuikakinou → /clan msg koregatuikakinou (これがついかきのう)
チャットを受け取ったり送信したときに自動で切り替える機能もあります(切り替え可能です)

#### 1.6追加の隠し機能
<span style="color: red; ">不具合出るかもしれないため利用は自己責任です</span>  
/jp debug　: チャットのログを.logファイルに出力します  
バグ(仕様)で表示されたチャットしか取ってないので意味ない気がします  
/jp stack :10回以内に受け取ったチャットをスタックしますが、1回目は通常表示、2回目以降でスタック表示になるため、2個表示されます  
数字違いもスタックしてるので多分バグります

### 免責事項
このmodの導入は自己責任であり、このmodが原因で不具合が発生してもその責任を取ることはできません  
しかし、なるべく不具合を修正したいのでdiscordやgithubで連絡してほしいです  
disocrd: wagglyzebra9743  
github https://github.com/WagglyZebra9743/lunachat_like/issues